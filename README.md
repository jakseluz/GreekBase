# <span style="color:blue"> GREEK BASE </span>
## Authors:
* Jakub Łabuz: [jlabuz@student.agh.edu.pl](mailto:jlabuz@student.agh.edu.pl)
* Jarosław Mastalerczyk: [jarekmast@student.agh.edu.pl](mailto:jarekmast@student.agh.edu.pl)

## Project description:
* Own programming language „GreekBase”.
* The aim for this project is to create an experimental programming language inspired by [Ada](https://www.adacore.com/about-ada)'s rules and syntax for [*Compilation Theory and Compilers*](https://sylabusy.agh.edu.pl/pl/1/2/19/1/4/16/140#nav-tab-10) classes. We want to change it a bit and make it more convenient, for example with built-in list operations and some other enhancements.
* Implemented in **Python** using [ANTLR4](https://www.antlr.org).
* Language compiled to **C** (exact features: TBA).

## Project structure
```
GreekBase
├── antlr/
│   ├── GreekBaseLexer.g4             ← grammar for tokens
│   ├── GreekBaseParser.g4            ← grammar for parser
│   └── generated/                    ← folder containing files generated by ANTLR
│       ├── GreekBaseLexer.py         ← generated lexer (token scanner)
│       ├── GreekBaseParser.py        ← generated parser
│       └── GreekBaseParserVisitor.py ← generated visitor (used by AST tree builder)
├── src/
│   ├── ast_builder.py                ← used for generating AST tree from ANTLR tree
│   ├── astGreek.py                   ← AST tree node classes
│   ├── semantic_checker.py           ← semantic errors handling etc.
│   └──
├── examples/                         ← example source files
├── output/                           ← generated C source files
├── run.sh                            ← bash script for generating ANTLR files
└── main.py                           ← main file that starts the compiler
```
## Details

### 1. Grammar
[Lexer's tokens](antlr/GreekBaseLexer.g4)

[Parser's grammar](antlr/GreekBaseParser.g4)

### 2. Tutorial
1. Please run
	./[run.sh](./run.sh)
in order to generate the parser and its tools needed later.

For now, printing the AST tree is possible, as well as receiving semantic errors and warnings.

2. To do so, please run [main.py](./main.py).

### 3. Example #1
1. Source file:
```ada
x : int := 5;
y : int := 10;
x : int;
z := 5.5;

if x < y then
    x := x + 1;
else y := y - 1;
end if;

print x;
print y;
```
2. AST tree:
```python
Program(line=1, column=0, statements=[VariableDeclaration(line=1, column=0, varType=<class 'int'>, id='x', varValue=IntLiteral(line=1, column=11, value=5)), VariableDeclaration(line=2, column=0, varType=<class 'int'>, id='y', varValue=IntLiteral(line=2, column=11, value=10)), VariableDeclaration(line=3, column=0, varType=<class 'int'>, id='x', varValue=None), Assignment(line=4, column=0, id='z', value=FloatLiteral(line=4, column=5, value=5.5)), IfStatement(line=6, column=0, condition=Condition(line=6, column=3, left=Identifier(line=6, column=3, value='x'), operator='<', right=Identifier(line=6, column=7, value='y')), then_branch=[Assignment(line=7, column=4, id='x', value=AdditionOperator(line=7, column=9, left=Identifier(line=7, column=9, value='x'), operator='+', right=IntLiteral(line=7, column=13, value=1)))], else_branch=[Assignment(line=8, column=5, id='y', value=AdditionOperator(line=8, column=10, left=Identifier(line=8, column=10, value='y'), operator='-', right=IntLiteral(line=8, column=14, value=1)))]), PrintStatement(line=11, column=0, value=Identifier(line=11, column=6, value='x')), PrintStatement(line=12, column=0, value=Identifier(line=12, column=6, value='y'))])
```
3. Semantic check:

![](./img/example1_semantic.png)